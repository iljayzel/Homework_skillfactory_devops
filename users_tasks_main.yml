# users/tasks/main.yml
---
- name: Add a new user with authorized key
  user:
    name: new_user
    state: present
    createhome: yes

- name: Add authorized key for the new user
  authorized_key:
    user: new_user
    state: present
    key: "{{ lookup('file', 'etc/ssh/public_key.pub') }}"